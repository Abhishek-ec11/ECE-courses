<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Student Courses & Notes</title>
  <meta name="description" content="Student website with subject-wise notes and courses. Hosted on GitHub Pages." />

  <style>
    :root{
      --accent:#0b79d0;
      --bg:#f6f8fb;
      --card:#fff;
      --muted:#666;
      --radius:12px;
      --gap:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:var(--bg);
      color:#222;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
    }

    header{
      background:linear-gradient(90deg,var(--accent),#0ea5a2);
      color:#fff;
      padding:20px;
      text-align:center;
      border-bottom-left-radius:20px;
      border-bottom-right-radius:20px;
    }
    header h1{margin:4px 0 6px;font-size:1.6rem}
    header p{margin:0;font-size:0.95rem;opacity:.95}

    .container{
      max-width:1100px;
      margin:22px auto;
      padding:0 16px 60px;
    }

    .tools{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
      margin-bottom:18px;
    }

    .search {
      display:flex;
      gap:8px;
      flex:1 1 320px;
      align-items:center;
    }
    .search input{
      flex:1;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid #e2e8f0;
      background:white;
      outline:none;
      font-size:0.95rem;
      box-shadow:0 2px 6px rgba(10,10,10,0.03);
    }
    .search button{
      padding:10px 12px;
      border-radius:10px;
      border:none;
      background:var(--accent);
      color:white;
      cursor:pointer;
    }

    .filter{
      display:flex;
      gap:8px;
      align-items:center;
      flex:0 0 auto;
    }
    select{
      padding:10px;
      border-radius:10px;
      border:1px solid #e2e8f0;
      background:white;
      outline:none;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:var(--gap);
    }

    .card{
      background:var(--card);
      border-radius:var(--radius);
      padding:16px;
      box-shadow:0 6px 18px rgba(12,18,30,0.06);
      display:flex;
      flex-direction:column;
      gap:10px;
      min-height:170px;
    }
    .card h3{margin:0;font-size:1.05rem;color:var(--accent)}
    .card p{margin:0;color:var(--muted);font-size:0.93rem}
    .card .actions{
      margin-top:auto;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .btn{
      padding:9px 12px;
      border-radius:9px;
      border:none;
      cursor:pointer;
      font-weight:600;
      font-size:0.9rem;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .btn-primary{background:var(--accent);color:white}
    .btn-outline{background:transparent;border:1px solid #e6eef7;color:var(--accent)}

    footer{
      text-align:center;
      padding:18px 8px;
      color:var(--muted);
      font-size:0.9rem;
      margin-top:28px;
    }

    /* Modal */
    .modal-backdrop{
      position:fixed;inset:0;background:rgba(6,10,18,0.45);display:none;place-items:center;z-index:60;padding:18px;
    }
    .modal{
      width:100%;max-width:920px;background:white;border-radius:12px;padding:14px;box-shadow:0 20px 50px rgba(8,12,30,.35);
      max-height:88vh;overflow:auto;
    }
    .modal header{display:flex;justify-content:space-between;align-items:center;gap:12px;padding-bottom:8px}
    .modal header h4{margin:0}
    .modal .content{display:grid;grid-template-columns:1fr;gap:12px}
    .note-link{display:inline-block;color:var(--accent);text-decoration:underline;font-weight:600}
    @media(min-width:880px){ .modal .content{grid-template-columns:1fr 420px} .modal iframe{height:320px} }
    .close-btn{background:transparent;border:0;font-size:1.2rem;cursor:pointer;color:var(--muted)}
    .small{font-size:0.9rem;color:var(--muted)}

    /* small screens */
    @media(max-width:420px){
      header h1{font-size:1.3rem}
      .card{padding:12px}
      .search input{font-size:0.9rem}
    }
  </style>
</head>
<body>

  <header>
    <h1>ðŸ“š Student Courses & Notes</h1>
    <p>Open-source course pages with notes (Drive/PDF) and embedded video playlists â€” hosted on GitHub Pages.</p>
  </header>

  <main class="container">
    <div class="tools" role="region" aria-label="search and filter">
      <div class="search" role="search">
        <input id="q" type="search" placeholder="Search subjects or keywords (e.g., 'C', 'Digital')">
        <button id="clearBtn" title="Clear">Clear</button>
      </div>

      <div class="filter">
        <label for="subjectFilter" class="small" style="margin-right:6px">Filter:</label>
        <select id="subjectFilter" aria-label="Filter courses">
          <option value="all">All subjects</option>
        </select>
      </div>
    </div>

    <section class="grid" id="grid" aria-live="polite">
      <!-- cards inserted by JS -->
    </section>

    <footer>
      Â© 2025 Student Learning Platform â€” Use Drive links for notes or store PDFs in the repository `notes/` folder.
    </footer>
  </main>

  <!-- Modal for course detail -->
  <div id="backdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
      <header>
        <h4 id="modalTitle">Course</h4>
        <div>
          <button class="close-btn" id="closeModal" title="Close">âœ–</button>
        </div>
      </header>

      <div class="content">
        <div>
          <p id="modalDesc" class="small"></p>
          <p style="margin-top:8px">
            <a id="notesLink" class="note-link" href="#" target="_blank" rel="noopener">Open Notes</a>
          </p>
          <p style="margin-top:6px" class="small">Tip: You can also keep PDFs inside `notes/` folder in this repo and link directly to them.</p>
        </div>

        <div>
          <!-- embedded playlist -->
          <div id="playerWrap" style="border-radius:10px;overflow:hidden;background:#000;">
            <iframe id="ytFrame" width="100%" height="240" src="" title="Video playlist" allowfullscreen sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe>
          </div>
        </div>
      </div>

      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
        <a id="openInNew" class="btn btn-outline" target="_blank" rel="noopener">Open Playlist in YouTube</a>
        <button id="closeBottom" class="btn btn-primary">Close</button>
      </div>
    </div>
  </div>

  <script>
    /***********************************************
     * DATA: Edit this array to add/remove courses.
     * - id: a short unique id (used for filtering)
     * - title: visible name
     * - description: short description
     * - notes: URL to Google Drive folder / PDF (use shareable link)
     * - playlistId: YouTube playlist ID (the value after list= in the playlist URL)
     ***********************************************/
    const courses = [
      {
        id: 'c-programming',
        title: 'C Programming',
        description: 'Basics, pointers, arrays, structures and solved examples.',
        notes: 'https://drive.google.com/drive/folders/YOUR_GOOGLE_DRIVE_FOLDER_ID',
        playlistId: 'PLxyz12345EXAMPLE'
      },
      {
        id: 'digital-electronics',
        title: 'Digital Electronics',
        description: 'Logic gates, combinational circuits and flip-flops.',
        notes: 'https://drive.google.com/drive/folders/YOUR_GOOGLE_DRIVE_FOLDER_ID',
        playlistId: 'PLabc98765EXAMPLE'
      },
      {
        id: 'eng-mathematics',
        title: 'Engineering Mathematics',
        description: 'Differential equations, transforms and numerical methods.',
        notes: 'notes/engineering-mathematics.pdf',
        playlistId: '' // leave empty if no playlist
      }
    ];

    // ---------- small helpers ----------
    const $ = sel => document.querySelector(sel);
    const grid = $('#grid');
    const filter = $('#subjectFilter');
    const qInput = $('#q');

    // populate filter dropdown
    function populateFilter(){
      courses.forEach(c => {
        const opt = document.createElement('option');
        opt.value = c.id; opt.textContent = c.title;
        filter.appendChild(opt);
      });
    }

    // render course cards
    function renderCards(list){
      grid.innerHTML = '';
      if(list.length === 0){
        grid.innerHTML = '<p style="grid-column:1/-1;text-align:center;color:var(--muted)">No courses found.</p>';
        return;
      }
      list.forEach(c => {
        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `
          <h3>${escapeHtml(c.title)}</h3>
          <p>${escapeHtml(c.description)}</p>
          <div class="actions">
            <a class="btn btn-primary" data-id="${c.id}" role="button">Open course</a>
            <a class="btn btn-outline" href="${c.notes}" target="_blank" rel="noopener">Notes</a>
          </div>
        `;
        grid.appendChild(card);
      });
    }

    // basic HTML escape
    function escapeHtml(s){
      return (s+'').replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    }

    // search + filter logic
    function filterAndSearch(){
      const q = (qInput.value || '').trim().toLowerCase();
      const sel = filter.value;
      let res = courses.slice();
      if(sel !== 'all') res = res.filter(c => c.id === sel);
      if(q) res = res.filter(c => (c.title+' '+c.description).toLowerCase().includes(q));
      renderCards(res);
    }

    // modal logic
    const backdrop = $('#backdrop');
    const modalTitle = $('#modalTitle');
    const modalDesc = $('#modalDesc');
    const notesLink = $('#notesLink');
    const ytFrame = $('#ytFrame');
    const openInNew = $('#openInNew');

    function openCourse(id){
      const c = courses.find(x => x.id === id);
      if(!c) return;
      modalTitle.textContent = c.title;
      modalDesc.textContent = c.description || '';
      notesLink.href = c.notes || '#';
      if(c.playlistId){
        ytFrame.src = `https://www.youtube.com/embed/videoseries?list=${encodeURIComponent(c.playlistId)}`;
        openInNew.href = `https://www.youtube.com/playlist?list=${encodeURIComponent(c.playlistId)}`;
        openInNew.style.display = 'inline-flex';
      } else {
        ytFrame.src = '';
        openInNew.style.display = 'none';
      }
      backdrop.style.display = 'grid';
      backdrop.setAttribute('aria-hidden','false');
    }

    function closeModal(){
      backdrop.style.display = 'none';
      backdrop.setAttribute('aria-hidden','true');
      ytFrame.src = ''; // stop playback
    }

    // event listeners
    document.addEventListener('click', (e) => {
      // open course from card button
      if(e.target.matches('.btn-primary')){
        const id = e.target.dataset.id;
        if(id) openCourse(id);
      }
    });

    $('#closeModal').addEventListener('click', closeModal);
    $('#closeBottom').addEventListener('click', closeModal);
    backdrop.addEventListener('click', (e) => {
      if(e.target === backdrop) closeModal();
    });

    // search/filter events
    qInput.addEventListener('input', filterAndSearch);
    filter.addEventListener('change', filterAndSearch);
    $('#clearBtn').addEventListener('click', () => { qInput.value=''; filter.value='all'; filterAndSearch(); });

    // init
    populateFilter();
    renderCards(courses);

    // Optional: allow opening course by URL hash (#c-programming)
    (function openFromHash(){
      const id = location.hash.replace('#','');
      if(!id) return;
      const exists = courses.some(c=>c.id===id);
      if(exists) openCourse(id);
    })();

    // accessibility: close modal with Escape
    document.addEventListener('keydown', e => {
      if(e.key === 'Escape') closeModal();
    });
  </script>
</body>
</html>
